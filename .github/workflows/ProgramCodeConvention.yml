name: Program Code Convention Check (Node.js)

on:
  workflow_dispatch:

jobs:
  lint-js:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'

      - name: Initialize npm
        run: npm init -y

      - name: Install ESLint
        run: npm install eslint --save-dev

      - name: Create ESLint flat config
        run: |
          cat << 'EOF' > eslint.config.js
          export default [
            {
              files: ["**/*.js"],
              languageOptions: {
                ecmaVersion: 2021,
                sourceType: "script"
              },
              rules: {
                indent: ["error", 4],
                quotes: ["error", "single"],
                semi: ["error", "always"]
              }
            }
          ];
          EOF

      - name: Run ESLint
        run: npx eslint ProgramCode.js
